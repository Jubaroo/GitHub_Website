<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Web-Based BERT</title>
    <link rel="stylesheet" href="styles/web-styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/bert"></script>
  </head>
  <body>
    <header>
      <h1>Web-Based BERT</h1>
      <nav>
        <a href="index.html">Home</a>
        <div class="dropdown">
          <a href="#">Audio Tools</a>
          <div class="dropdown-content">
            <a href="audio-converter.html">Audio Converter</a>
          </div>
        </div>
        <div class="dropdown">
          <a href="#">Video Tools</a>
          <div class="dropdown-content">
            <a href="video-converter.html">Video Converter</a>
          </div>
        </div>
        <div class="dropdown">
          <a href="#">Image Tools</a>
          <div class="dropdown-content">
            <a href="image-extraction.html">PDF Image Extraction</a>
            <a href="background-removal.html">Background Removal</a>
            <a href="image-converter.html">Image Converter</a>
          </div>
        </div>
        <div class="dropdown">
          <a href="#">Web Tools</a>
          <div class="dropdown-content">
            <a href="html-validator.html">HTML/CSS Validator</a>
            <a href="json-formatter.html">JSON Formatter</a>
            <a href="regex-tester.html">Regex Tester</a>
            <a href="json-xml-converter.html">JSON-XML Converter</a>
            <a href="code-beautifier.html">Code Beautifier</a>
            <a href="markdown-previewer.html">Markdown Previewer</a>
            <a href="css-minifier.html">CSS Minifier</a>
          </div>
        </div>
        <div class="dropdown">
          <a href="#">Other Tools</a>
          <div class="dropdown-content">
            <a href="password-generator.html">Password Generator</a>
            <a href="finance-tracker.html">Finance Tracker</a>
            <a href="llm.html">Web-Based LLM</a>
          </div>
        </div>
      </nav>
    </header>
    <div class="container">
      <h2>Ask a Question</h2>
      <p class="description">
        Utilize this tool to interact with a BERT-based question-answering model
        directly in your browser. Enter your question, and this tool will
        leverage BERT's capabilities to provide relevant answers based on the
        given context. Good for quick queries and testing BERT's
        comprehension in real-time.
      </p>
      <textarea
        id="user-input"
        placeholder="Type your question here"
      ></textarea>
      <button onclick="runModel()">Submit</button>
      <pre id="response"></pre>
      <button onclick="copyToClipboard()">Copy to Clipboard</button>
      <div id="copy-message"></div>
    </div>
    <footer>
      <p>&copy; 2024 Jarrod's Website. All rights reserved.</p>
    </footer>
    <script>
      document.querySelectorAll(".dropdown").forEach((dropdown) => {
        const dropdownContent = dropdown.querySelector(".dropdown-content");
        dropdown.addEventListener("mouseenter", () => {
          dropdownContent.style.display = "block";
        });
        dropdown.addEventListener("mouseleave", () => {
          dropdownContent.style.display = "none";
        });
        dropdown.querySelector("a").addEventListener("focus", () => {
          dropdownContent.style.display = "block";
        });
        dropdown.querySelector("a").addEventListener("blur", () => {
          dropdownContent.style.display = "none";
        });
      });

      async function runModel() {
        // Load the BERT model
        const model = await bert.loadQnA();

        // Get the user input
        const inputText = document.getElementById("user-input").value;

        // Example question and context
        const question = inputText;
        const context =
          "Replace this with your context or use a predefined context for testing";

        // Perform question answering
        const answers = await model.findAnswers(question, context);

        // Display the answers
        document.getElementById("response").innerText = JSON.stringify(
          answers,
          null,
          4
        );
      }

      function copyToClipboard() {
        const responseText = document.getElementById("response").innerText;
        navigator.clipboard
          .writeText(responseText)
          .then(() => {
            document.getElementById("copy-message").innerText =
              "Copied to clipboard!";
          })
          .catch((err) => {
            document.getElementById("copy-message").innerText =
              "Failed to copy.";
          });
      }
    </script>
  </body>
</html>
